<canvas>
</canvas>

<script>
    radius = 20
    class Ball {
        constructor(id, currPos, speed) {
            this.id = id
            this.currPos = currPos
            this.speed = speed
        }

        manageWallHit(dir) {
            if (dir == 'x') {
                this.speed.dx = -this.speed.dx
            } else {
                this.speed.dy = -this.speed.dy
            }

        }

        update() {
            if (this.currPos.x + radius >= canvas.width || this.currPos.x - radius <= 0) {
                this.manageWallHit('x')
            }

            if (this.currPos.y + radius >= canvas.height || this.currPos.y - radius <= 0) {
                this.manageWallHit('y')
            }

            this.currPos.x += this.speed.dx
            this.currPos.y += this.speed.dy
        }

        manageWallhit() {

        }
    }

    board = [
        [],
        [],
        [],
        [],
        []
    ]
    balls = [new Ball(1, {
        x: 100,
        y: 30
    }, {
        dx: 1,
        dy: 1
    }), new Ball(1, {
        x: 200,
        y: 60
    }, {
        dx: 1,
        dy: 1
    }), new Ball(1, {
        x: 60,
        y: 40
    }, {
        dx: 1,
        dy: 1
    })]

    var canvas = document.querySelector('canvas')
    var ctx = canvas.getContext('2d')
    canvas.height = canvas.width

    function refreshBoard() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.moveTo(0, canvas.height / 2)
        ctx.lineTo(canvas.width, canvas.height / 2)
        ctx.stroke()
        ctx.moveTo(canvas.width / 2, 0)
        ctx.lineTo(canvas.width / 2, canvas.height)
        ctx.stroke()
    }

    function update() {
        drawBoard()
        window.requestAnimationFrame(update);
    }

    function drawBoard() {
        refreshBoard()
        for (var ball of balls) {
            ctx.beginPath();
            ctx.arc(ball.currPos.x, ball.currPos.y, radius, 0, 2 * Math.PI);
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.fill();
            ball.update();
        }
    }

    window.requestAnimationFrame(update);
</script>